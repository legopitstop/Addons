const EXCLUDE=["minecraft:bedrock"];export class BreakerBlockComponent{constructor(t="breaker:powered"){this.poweredState=t,this.onPlayerInteract=this.onPlayerInteract.bind(this),this.onTick=this.onTick.bind(this)}onPlayerInteract(t){const e=t.block.permutation.getState(this.poweredState);t.block.setPermutation(t.block.permutation.withState(this.poweredState,!e))}breakBlock(t,e){var o;switch(e){case"up":o=t.block.below();break;case"down":o=t.block.above();break;case"north":o=t.block.south();break;case"south":o=t.block.north();break;case"east":o=t.block.west();break;case"west":o=t.block.east();break;default:return}o.isAir||o.isLiquid||EXCLUDE.includes(o.typeId)||t.dimension.runCommand(`setblock ${o.location.x} ${o.location.y} ${o.location.z} air destroy`)}onTick(t){if(!t.block.permutation.getState(this.poweredState))return;const e=t.block.permutation.getState("minecraft:facing_direction");this.breakBlock(t,e)}}